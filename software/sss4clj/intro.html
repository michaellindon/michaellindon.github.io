<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title># Introduction to sss4clj</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Sss4clj</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1  current"><a href="intro.html"><div class="inner"><span># Introduction to sss4clj</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 "><a href="sss4clj.core.html"><div class="inner"><span>sss4clj.core</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h2><a href="#introduction-to-sss4clj" name="introduction-to-sss4clj"></a>Introduction to sss4clj</h2>
<p>Shotgun Stochastic Search is an algorithm for maximizing functions {0,1}ᴾ → ℝ described in <a href="http://www.tandfonline.com/doi/abs/10.1198/016214507000000121">Shotgun Stochastic Search for “Large p” Regression</a>. Each element a ∈ {0,1}ᴾ can be uniquely identified by an “active set” i.e. {i ∈ ℕ| aᵢ = 1}. This project makes the design choice to work with the latter.</p>
<h2><a href="#installation" name="installation"></a>Installation</h2>
<p>Leiningen:</p>
<p>Add the following dependency in your project.clj file</p>
<p><a href="http://clojars.org/sss4clj"><img src="https://clojars.org/sss4clj/latest-version.svg" alt="Clojars Project" /></a></p>
<h2><a href="#usage" name="usage"></a>Usage</h2>
<p>An example.clj file can be found in the source directory which one can experiment with in the repl.</p>
<pre><code class="clojure"><br />(ns sss4clj.example
  (:require [sss4clj.core :refer :all]
            [clojure.math.combinatorics :as combo]))

;; Let A ⊆ Ω ⊂ ℕ
(def A #{0 3 4})
(def Omega #{0 1 2 3 4})

;; use drop-1 to get all sets formed by removing 1 element
(drop-1 A)
=&gt; (#{4 3} #{0 3} #{0 4})

;; drop-1 of empty set is considered empty
(drop-1 #{})
=&gt; ()

;; use add-1 to get all sets formed from the union of A
;; with one element of Ω\A.
(add-1 Omega A)
=&gt; (#{0 1 4 3} #{0 4 3 2})

;; add-1 of Omega is considered empty
(add-1 Omega Omega)
=&gt; ()

;; use swap-1 to get all sets formed from exchanging one element
;; of A with one element of its Ω\A
(swap-1 Omega A)
=&gt; (#{1 4 3} #{0 1 3} #{0 1 4} #{4 3 2} #{0 3 2} #{0 4 2})

;; use neighbours to obtain all such sets formed form drop-1
;; add-1 and swap-1 operations
(neighbours Omega A)
=&gt; [(#{4 3} #{0 3} #{0 4}) (#{0 1 4 3} #{0 4 3 2}) (#{1 4 3} #{0 1 3} #{0 1 4} #{4 3 2} #{0 3 2} #{0 4 2})]

;;; To illustrate the next sss4clj functions we need a
;; mathematical objective function that maps sets A ⊆ Ω to R.

;; To do this lets just zip all sets in the power set of Ω
;; with a random uniform and convert to a function
(def subvalues (into (hash-map) (map vector (map #(set %) (combo/subsets (into (vector) Omega))) (repeatedly #(rand)))))
(defn objective [x] (subvalues x))

;; objective is now the function which we will try to maximize
(objective #{})
=&gt; 0.5809422699383645
(objective Omega)
=&gt; 0.37949346847568177
(objective A)
=&gt; 0.1971199058962515

;; add-priority-map returns a new function that on the surface
;; is identical to objective
(def max-count 2)
(def score (add-priority-map objective max-count))
(score #{})
=&gt; 0.5809422699383645

;; but score has a priority-map appended to its meta-data for
;; the purposes of recording and tracking the best values so far
(deref (:scoreboard (meta score)))
=&gt; {#{} 0.5809422699383645}

;; sss may run for a long time and so optionally the user may
;; only want to keep track of the top `max-count` vals in memory.
;; This is the purpose of the priority map.
(objective A)
=&gt; 0.1971199058962515
(deref (:scoreboard (meta score)))
=&gt; {#{0 4 3} 0.1971199058962515, #{} 0.5809422699383645}
(score Omega)
=&gt; 0.37949346847568177
(deref (:scoreboard (meta score)))
=&gt; {#{0 1 4 3 2} 0.37949346847568177, #{} 0.5809422699383645}

;; Once the size of the priority-map becomes large than max-count
;; it drops the key-value pair with the smallest value. In the
;; previous example the key-value pair with key A was dropped.

;; Given a score function, an initial set A, and Ω, the user
;; can perform one iteration of sss
(next-model score Omega A)
=&gt; #{0 4 2}

;; The output is a new model, but one can check the sets visited
;; within the iteration by dereferencing the meta-data of score
(deref (:scoreboard (meta score)))
=&gt; {#{0 3 2} 0.8143170162925805, #{0 4} 0.8948151339032558}

;; Alternatively, the user can abstract the fine-grained details
;; of the implementation and call a one function do-all
;; This returns the final scoreboard of sets visited after
;; 100 iterations of sss with a max-count of 5
(run-sss objective Omega 100 5)
=&gt; {#{0 1 4 3} 0.8108222058800102, #{0 3 2} 0.8143170162925805, #{0 4} 0.8948151339032558, #{0} 0.951193987214408, #{1} 0.9658085016841405}

</code></pre>
<h2><a href="#license" name="license"></a>License</h2>
<p>Copyright © 2017 Michael Lindon</p>
<p>Distributed under the Eclipse Public License either version 1.0</p></div></div></div></body></html>